/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks
package pg_catalog
package pg_rewrite

import adventureworks.TypoPgNodeTree
import anorm.Column
import anorm.RowParser
import anorm.Success
import play.api.libs.json.JsObject
import play.api.libs.json.JsResult
import play.api.libs.json.JsValue
import play.api.libs.json.OWrites
import play.api.libs.json.Reads
import play.api.libs.json.Writes
import scala.collection.immutable.ListMap
import scala.util.Try

case class PgRewriteRow(
  oid: PgRewriteId,
  rulename: String,
  evClass: /* oid */ Long,
  evType: String,
  evEnabled: String,
  isInstead: Boolean,
  evQual: TypoPgNodeTree,
  evAction: TypoPgNodeTree
)

object PgRewriteRow {
  implicit val reads: Reads[PgRewriteRow] = Reads[PgRewriteRow](json => JsResult.fromTry(
      Try(
        PgRewriteRow(
          oid = json.\("oid").as(PgRewriteId.reads),
          rulename = json.\("rulename").as(Reads.StringReads),
          evClass = json.\("ev_class").as(Reads.LongReads),
          evType = json.\("ev_type").as(Reads.StringReads),
          evEnabled = json.\("ev_enabled").as(Reads.StringReads),
          isInstead = json.\("is_instead").as(Reads.BooleanReads),
          evQual = json.\("ev_qual").as(TypoPgNodeTree.reads),
          evAction = json.\("ev_action").as(TypoPgNodeTree.reads)
        )
      )
    ),
  )
  def rowParser(idx: Int): RowParser[PgRewriteRow] = RowParser[PgRewriteRow] { row =>
    Success(
      PgRewriteRow(
        oid = row(idx + 0)(PgRewriteId.column),
        rulename = row(idx + 1)(Column.columnToString),
        evClass = row(idx + 2)(Column.columnToLong),
        evType = row(idx + 3)(Column.columnToString),
        evEnabled = row(idx + 4)(Column.columnToString),
        isInstead = row(idx + 5)(Column.columnToBoolean),
        evQual = row(idx + 6)(TypoPgNodeTree.column),
        evAction = row(idx + 7)(TypoPgNodeTree.column)
      )
    )
  }
  implicit val writes: OWrites[PgRewriteRow] = OWrites[PgRewriteRow](o =>
    new JsObject(ListMap[String, JsValue](
      "oid" -> PgRewriteId.writes.writes(o.oid),
      "rulename" -> Writes.StringWrites.writes(o.rulename),
      "ev_class" -> Writes.LongWrites.writes(o.evClass),
      "ev_type" -> Writes.StringWrites.writes(o.evType),
      "ev_enabled" -> Writes.StringWrites.writes(o.evEnabled),
      "is_instead" -> Writes.BooleanWrites.writes(o.isInstead),
      "ev_qual" -> TypoPgNodeTree.writes.writes(o.evQual),
      "ev_action" -> TypoPgNodeTree.writes.writes(o.evAction)
    ))
  )
}
