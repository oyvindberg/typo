/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks.sa.cc;

import adventureworks.customtypes.TypoLocalDateTime;
import adventureworks.customtypes.TypoShort;
import adventureworks.userdefined.CustomCreditcardId;
import anorm.Column;
import anorm.RowParser;
import anorm.Success;
import play.api.libs.json.JsObject;
import play.api.libs.json.JsResult;
import play.api.libs.json.JsValue;
import play.api.libs.json.OWrites;
import play.api.libs.json.Reads;
import play.api.libs.json.Writes;
import scala.collection.immutable.ListMap;
import scala.util.Try;

/** View: sa.cc */
case class CcViewRow(
  /** Points to [[adventureworks.sales.creditcard.CreditcardRow.creditcardid]] */
  id: /* user-picked */ CustomCreditcardId,
  /** Points to [[adventureworks.sales.creditcard.CreditcardRow.creditcardid]] */
  creditcardid: /* user-picked */ CustomCreditcardId,
  /** Points to [[adventureworks.sales.creditcard.CreditcardRow.cardtype]] */
  cardtype: /* max 50 chars */ String,
  /** Points to [[adventureworks.sales.creditcard.CreditcardRow.cardnumber]] */
  cardnumber: /* max 25 chars */ String,
  /** Points to [[adventureworks.sales.creditcard.CreditcardRow.expmonth]] */
  expmonth: TypoShort,
  /** Points to [[adventureworks.sales.creditcard.CreditcardRow.expyear]] */
  expyear: TypoShort,
  /** Points to [[adventureworks.sales.creditcard.CreditcardRow.modifieddate]] */
  modifieddate: TypoLocalDateTime
)

object CcViewRow {
  implicit lazy val reads: Reads[CcViewRow] = {
    Reads[CcViewRow](json => JsResult.fromTry(
        Try(
          CcViewRow(
            id = json.\("id").as(CustomCreditcardId.reads),
            creditcardid = json.\("creditcardid").as(CustomCreditcardId.reads),
            cardtype = json.\("cardtype").as(Reads.StringReads),
            cardnumber = json.\("cardnumber").as(Reads.StringReads),
            expmonth = json.\("expmonth").as(TypoShort.reads),
            expyear = json.\("expyear").as(TypoShort.reads),
            modifieddate = json.\("modifieddate").as(TypoLocalDateTime.reads)
          )
        )
      ),
    )
  }
  def rowParser(idx: Int): RowParser[CcViewRow] = {
    RowParser[CcViewRow] { row =>
      Success(
        CcViewRow(
          id = row(idx + 0)(/* user-picked */ CustomCreditcardId.column),
          creditcardid = row(idx + 1)(/* user-picked */ CustomCreditcardId.column),
          cardtype = row(idx + 2)(Column.columnToString),
          cardnumber = row(idx + 3)(Column.columnToString),
          expmonth = row(idx + 4)(TypoShort.column),
          expyear = row(idx + 5)(TypoShort.column),
          modifieddate = row(idx + 6)(TypoLocalDateTime.column)
        )
      )
    }
  }
  implicit lazy val writes: OWrites[CcViewRow] = {
    OWrites[CcViewRow](o =>
      new JsObject(ListMap[String, JsValue](
        "id" -> CustomCreditcardId.writes.writes(o.id),
        "creditcardid" -> CustomCreditcardId.writes.writes(o.creditcardid),
        "cardtype" -> Writes.StringWrites.writes(o.cardtype),
        "cardnumber" -> Writes.StringWrites.writes(o.cardnumber),
        "expmonth" -> TypoShort.writes.writes(o.expmonth),
        "expyear" -> TypoShort.writes.writes(o.expyear),
        "modifieddate" -> TypoLocalDateTime.writes.writes(o.modifieddate)
      ))
    )
  }
}