/**
 * File has been automatically generated by `typo`.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN.
 */
package adventureworks
package public
package identity_test

import typo.dsl.SqlExpr.Field
import typo.dsl.SqlExpr.FieldLikeNoHkt
import typo.dsl.SqlExpr.IdField
import typo.dsl.Structure.Relation

class IdentityTestStructure[Row](val prefix: Option[String], val extract: Row => IdentityTestRow, val merge: (Row, IdentityTestRow) => Row)
  extends Relation[IdentityTestFields, IdentityTestRow, Row]
    with IdentityTestFields[Row] { outer =>

  override val alwaysGenerated = new Field[Int, Row](prefix, "always_generated", None, Some("int4"))(x => extract(x).alwaysGenerated, (row, value) => merge(row, extract(row).copy(alwaysGenerated = value)))
  override val defaultGenerated = new Field[Int, Row](prefix, "default_generated", None, Some("int4"))(x => extract(x).defaultGenerated, (row, value) => merge(row, extract(row).copy(defaultGenerated = value)))
  override val name = new IdField[IdentityTestId, Row](prefix, "name", None, None)(x => extract(x).name, (row, value) => merge(row, extract(row).copy(name = value)))

  override val columns: List[FieldLikeNoHkt[?, Row]] =
    List[FieldLikeNoHkt[?, Row]](alwaysGenerated, defaultGenerated, name)

  override def copy[NewRow](prefix: Option[String], extract: NewRow => IdentityTestRow, merge: (NewRow, IdentityTestRow) => NewRow): IdentityTestStructure[NewRow] =
    new IdentityTestStructure(prefix, extract, merge)
}
