/**
 * File automatically generated by `typo` for its own test suite.
 *
 * IF YOU CHANGE THIS FILE YOUR CHANGES WILL BE OVERWRITTEN
 */
package testdb
package hardcoded
package compositepk
package person

import play.api.libs.json.JsObject
import play.api.libs.json.JsResult
import play.api.libs.json.JsValue
import play.api.libs.json.Json
import play.api.libs.json.OWrites
import play.api.libs.json.Reads
import scala.collection.immutable.ListMap
import scala.util.Try

/** Type for the composite primary key of table `compositepk.person` */
case class PersonId(one: Long, two: Option[String])
object PersonId {
  implicit def ordering(implicit O0: Ordering[Option[String]]): Ordering[PersonId] = Ordering.by(x => (x.one, x.two))
  implicit val reads: Reads[PersonId] = Reads[PersonId](json => JsResult.fromTry(
      Try(
        PersonId(
          one = json.\("one").as[Long],
          two = json.\("two").toOption.map(_.as[String])
        )
      )
    ),
  )
  implicit val writes: OWrites[PersonId] = OWrites[PersonId](o =>
    new JsObject(ListMap[String, JsValue](
      "one" -> Json.toJson(o.one),
      "two" -> Json.toJson(o.two)
    ))
  )
}
